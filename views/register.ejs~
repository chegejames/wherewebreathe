<% layout('layout') -%>
<% script('bootstrap-switch-master/bootstrap-switch.min.js') -%>
<% stylesheet('stylesheets/register.css') -%>
<% stylesheet('bootstrap-switch-master/bootstrap-switch.css') -%>
<h1>Register</h1>
<form role="form" action="/register" method="post">
<% if(message.length > 0){ %>
<div class="alert alert-danger" role="alert">
<%= message %>
</div>
<% } %>
        <!--<div class='sublabel'>Your username and password both must be 3-30 characters and may contain letters, numbers, spaces, or . - @ characters.</div>-->
  <div class="form-group">
    <label for="username">Desired Username:</label>
    <input type="text" name="username" placeholder="Enter Username (min. 3 characters)" class="form-control" pattern="^[A-Za-z0-9_. -@]{3,30}$" required  autofocus maxlength="30" title="Your username must be 3 to 30 characters in length and may contain letters, numbers, spaces, or . - @ _ characters.">
  </div>
  <div class="form-group">
  <label for="password">Password:</label>
    <input type="password" name="password" placeholder="Password" class="form-control" required pattern="^[A-Za-z0-9_-]{3,30}$" title="Your password must be 3 to 30 characters in length and may contain letters, numbers, hyphens, or underscores.">
  </div>
  <div class="form-group">
    <label for="password2">Re-type Password:</label>
    <input type="password" name="password2" placeholder="Re-type Password" class="form-control" required pattern="^[A-Za-z0-9_-]{3,30}$" title="Your password must be 3 to 30 characters in length and may contain letters, numbers, hyphens, or underscores">
  </div>
  <div class="form-group">
  <label for="email">Email:</label>
    <input type="email" name="email" placeholder="you@email.com" class="form-control" required>
  </div>
  <div class="form-group">
  <div class="form-group">
  <label for="HID">VIN or HUD:</label>
    <input type="text" name="HID" placeholder="E.g. " class="form-control" required pattern="(^((?=[^iIoOqQ])\w){17}$)|(^\w{3}[0-9]{6,7}$)" title="What you entered does not look like a VIN or HUD">
  </div>
  <div class="form-group">
    <input type="checkbox" name="public" checked value="public">
    <span id="lblPub"></strong>
    </span>
  </div>
  <div class="form-group">
    <input type="checkbox" name="researchers" checked value="research team">
    <span id="lblResearch"></strong></span>
  </div>
  <button type="submit" class="btn btn-default">Submit</button>&nbsp;<a href="/">
    <button type="button" class="btn btn-primary">Cancel</button></a>
</form>
<script>
$(function(){
  $.fn.bootstrapSwitch.defaults.onColor = 'success';
  $.fn.bootstrapSwitch.defaults.offColor = 'danger';
  $.fn.bootstrapSwitch.defaults.onText = 'Yes';
  $.fn.bootstrapSwitch.defaults.offText = 'No';
  $.fn.bootstrapSwitch.defaults.state = 'skip';
  $("[name='researchers'], [name='public']").bootstrapSwitch();
})

$("[name='public']").on('switchChange.bootstrapSwitch', function(event, state) {
  if(state){  
    $('#lblPub').html('Your data["individual answers"?] can be seen by <strong>anyone on the internet</strong>');
  }
  else{
    $('#lblPub').html('Your data["individual answers"?] will not be <strong>visible publicly</strong>');
  } 
});
$("[name='researchers']").on('switchChange.bootstrapSwitch', function(event, state) {
  if(state){  
    $('#lblResearch').html('Your data["individual answers"?] are currently shared<strong> only with the WhereWeBreathe research team</strong>');
  }
  else{
    $('#lblResearch').html('Your data["individual answers"?] <strong>will not</strong> be shared with the WhereWeBreathe research team');
  } 
});
</script>

  <!--<label for="username">Are you human? (sorry: spam filtering!)</label>
  <fieldset>
    <div class="radio">
      <label>
        <input type="radio" name="human1" value="food">
        I eat food
      </label>
    </div>
    <div class="radio">
      <label>
        <input type="radio" name="human1" value="robot">
        I am a robot
      </label>
    </div>
  </fieldset>
  <fieldset>
    <div class="radio">
      <label>
        <input type="radio" name="human2" value="earth">
        I live on Earth
      </label>
    </div>
    <div class="radio">
      <label>
        <input type="radio" name="human2"value="cpu">
        I am a central processing unit
      </label>
    </div>
  </fieldset>
  <fieldset>
    <div class="radio">
      <label>
        <input type="radio" name="human3" value="water">
        I drink water
      </label>
    </div>
    <div class="radio">
      <label>
        <input type="radio" name="human3" value="computer">
        I am a computer
      </label>
    </div>
  </fieldset> 
  <fieldset>
    <div class="radio">
      <label>
        <input type="radio" name="human4" id="optionsRadios1" value="heart">
        I have a heart
      </label>
    </div>
    <div class="radio">
      <label>
        <input type="radio" name="human4" id="optionsRadios2" value="robot">
        I am a central processing unit
      </label>
    </div>
  </fieldset> 
  <div class="form-group">
  <label for="empty">Don't write anything here if you're a real person:</label>
    <textarea name="empty" class="form-control"></textarea>
  </div>
  -->

